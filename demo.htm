<!DOCTYPE html>
<html>
	<head>
		<title>virtuoso</title>
		<style>
			body, html {
				height: 100%;
				width: 100%;
				padding: 0;
				margin: 0;
			}

			.virtuoso {
				display: flex;
				flex-flow: column nowrap;
				box-sizing: border-box;
				width: 30em;
				height: 20em;
				border: solid thin royalblue;
				margin: 1em auto;
			}

			.virtuoso * {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}

			.virtuoso > .virtuoso-ctrls {
				flex: 1em 0 0;
				background: silver;
			}

			.virtuoso > .virtuoso-inner {
				display: flex;
				flex-flow: column nowrap;
				flex: 100% 0 1;
			}

			.virtuoso > .virtuoso-inner > * {
				flex-shrink: 0;
				height: 100%;
				width: 100%;
				font-family: sans-serif;
				font-size: 1em;
				padding: 0.8em 0.8em;
				background: none;
				overflow-y: scroll;
				overflow-x: hidden;
			}

			.virtuoso > .virtuoso-inner > .virtuoso-syntax {
				display: block;
				white-space: pre-wrap;
				word-wrap: break-word;
			}

			.virtuoso > .virtuoso-inner > .virtuoso-syntax .token {
				display: inline;
			}

			.virtuoso > .virtuoso-inner > .virtuoso-text {
				display: flex;
				position: relative;
				top: -100%;
				border: none;
				resize: none;

				color: royalblue;
				-webkit-text-fill-color: transparent;
			}

			.virtuoso > .virtuoso-inner > .virtuoso-text::-webkit-input-placeholder {
				color: #ccc;
				text-shadow: none;
				-webkit-text-fill-color: initial;
			}
		</style>
		<style>
			.virtuoso .virtuoso-syntax .token.title {
				color: green;
				text-shadow: 1px 0 0 green;
			}

			.virtuoso .virtuoso-syntax .token.italic {
				font-style: italic;
			}

			.virtuoso .virtuoso-syntax .token.bold {
				text-shadow: 1px 0 0 black;
			}

			.virtuoso .virtuoso-syntax .token.tag {
				background: #dcc828;
				color: white;
			}

			.virtuoso .virtuoso-syntax .token.list.punctuation {
				color: grey;
			}

			.virtuoso .virtuoso-syntax .token.url {
				border-bottom: 1px blue dashed;
			}

			.virtuoso .virtuoso-syntax .token.code {
				background: #333;
				color: grey;
			}
		</style>
	</head>
	<body>
		<div class="virtuoso">
			<div class="virtuoso-ctrls">
				<button type="button"></button>
			</div>

			<div class="virtuoso-inner">
				<div class="virtuoso-syntax" v-html="highlightedSyntax"></div>
				<textarea class="virtuoso-text" v-on:scroll="updateScrollState" v-model="unformattedMarkdown">{{unformattedMarkdown}}</textarea>
			</div>
		</div>

		<script async data-chainloadr="./virtuoso.js" src="https://rawgit.com/benjamingwynn/chainloadr-js/master/chainloadr.js"></script>
	</body>
</html>
